<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bingo Show</title>
    <!-- Carrega o Tailwind CSS para estiliza√ß√£o -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carrega a fonte Inter do Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <!-- Folha de Estilos para Impress√£o -->
    <link rel="stylesheet" href="print.css" media="print">
    <style>
        /* Estilos personalizados */
        body { font-family: 'Inter', sans-serif; }

        /* Anima√ß√µes */
        @keyframes logo-float-glow {
          0%, 100% {
            transform: translateY(0) scale(1);
            filter: drop-shadow(0 0 5px #f59e0b);
          }
          50% {
            transform: translateY(-10px) scale(1.05);
            filter: drop-shadow(0 0 15px #fbbf24) drop-shadow(0 0 25px #f59e0b);
          }
        }
        .logo-animation {
            animation: logo-float-glow 4s ease-in-out infinite;
        }

        @keyframes bounce-in {
            0% { transform: translateY(-200px) scale(0.5); opacity: 0; }
            50% { transform: translateY(0) scale(1.1); opacity: 1; }
            70% { transform: translateY(-30px) scale(0.95); }
            90% { transform: translateY(0) scale(1.05); }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }
        .animate-bounce-in { animation: bounce-in 1s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards; }

        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        @keyframes pop-up { 0% { opacity: 0; transform: scale(0.8); } 100% { opacity: 1; transform: scale(1); } }
        .modal-content { animation: pop-up 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; }
        
        @keyframes shake-error {
            10%, 90% { transform: translateX(-1px); }
            20%, 80% { transform: translateX(2px); }
            30%, 50%, 70% { transform: translateX(-4px); }
            40%, 60% { transform: translateX(4px); }
        }
        .animate-shake-error { animation: shake-error 0.82s cubic-bezier(.36,.07,.19,.97) both; }
        
        /* Estilo para Rodada Conclu√≠da (cinza/opaca) */
        .game-completed-style {
            opacity: 0.5;
            background-color: #374151 !important; /* Cor de fundo cinza escuro */
            border: 1px solid #4b5563;
            transition: all 0.5s;
        }
        
        .animate-flash-complete { animation: flash-complete-dark 1s ease-out; }
        @keyframes flash-complete-dark {
            0%, 100% { background-color: #1f2937; }
            50% { background-color: #10b981; }
        }
        
        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.5s ease-out forwards; }
        
        /* NOVA ANIMA√á√ÉO PARA RODADA EXTRA */
        @keyframes fade-in-down {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-down { animation: fade-in-down 0.5s ease-out forwards; }
        
        /* ANIMA√á√ÉO VIBRANTE PARA BRINDE SORTEADO */
        @keyframes pulse-glow {
            0% {
                transform: scale(1);
                box-shadow: 0 0 5px 2px rgba(255, 255, 255, 0.2);
                filter: brightness(1);
            }
            50% {
                transform: scale(1.1);
                box-shadow: 0 0 30px 15px rgba(255, 255, 255, 0.8), 0 0 50px 10px rgba(253, 224, 71, 0.6);
                filter: brightness(1.5) saturate(1.2);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 5px 2px rgba(255, 255, 255, 0.2);
                filter: brightness(1);
            }
        }
        .pulse-glow-animation {
            animation: pulse-glow 2.5s ease-in-out infinite;
        }

        @keyframes pulse-border {
            0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            50% { box-shadow: 0 0 0 4px rgba(16, 185, 129, 0); }
        }
        .active-round-highlight {
            animation: pulse-border 2s infinite; /* Anima√ß√£o de pulso */
            border: 2px solid #10b981;
            transform: scale(1.02); /* Leve destaque visual */
            opacity: 1 !important; /* Garante que fique totalmente vis√≠vel */
        }

        .playing-btn {
            background-color: #16a34a !important; /* green-600 */
        }
        .playing-btn:hover {
            background-color: #15803d !important; /* green-700 */
        }

        @keyframes fall-in-ball {
            0% { transform: scale(0.3); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        .ball-fall-in {
            animation: fall-in-ball 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
        }
        
        /* ANIMA√á√ÉO DO GLOBO E CICLONE DE N√öMEROS */
        @keyframes spin-cage {
            from { transform: rotateY(0deg) rotateX(10deg); }
            to { transform: rotateY(360deg) rotateX(10deg); }
        }
        .spinning-cage {
            transform-style: preserve-3d;
            animation: spin-cage 0.5s linear infinite;
        }
        .number-cyclone-particle {
            position: absolute;
            color: white;
            font-weight: 900;
            opacity: 0.7;
            transform-style: preserve-3d;
            animation-timing-function: ease-in-out;
            animation-iteration-count: infinite;
        }
        @keyframes fly-in-cage-1 {
            0% { transform: translate3d(0, 0, 0) rotateY(0deg); }
            100% { transform: translate3d(50px, 80px, 150px) rotateY(360deg); }
        }
        @keyframes fly-in-cage-2 {
            0% { transform: translate3d(0, 0, 0) rotateX(0deg); }
            100% { transform: translate3d(-80px, -120px, 100px) rotateX(360deg); }
        }
        @keyframes fly-in-cage-3 {
            0% { transform: translate3d(0, 0, 0) rotateZ(0deg); }
            100% { transform: translate3d(150px, -90px, -50px) rotateZ(360deg); }
        }
        @keyframes fly-in-cage-4 {
            0% { transform: translate3d(0, 0, 0) rotateX(0deg) rotateY(0deg); }
            100% { transform: translate3d(-120px, 140px, -80px) rotateX(-360deg) rotateY(360deg); }
        }
        
        /* ANIMA√á√ÉO DO MARTELO DO LEIL√ÉO (Aprimorada) */
        @keyframes gavel-strike-impact {
            0% { transform: rotate(25deg); }
            50% { transform: rotate(-45deg) scale(1.1); }
            70% { transform: rotate(0deg) scale(1.4); } /* Impacto */
            90% { transform: rotate(10deg) scale(1.1); } /* Recuo */
            100% { transform: rotate(0deg); }
        }
        .animate-gavel-strike {
            display: inline-block !important;
            animation: gavel-strike-impact 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            transform-origin: bottom right; /* Ponto de rota√ß√£o aprimorado */
        }
        
        /* ANIMA√á√ÉO DE LANCE DO LEIL√ÉO */
        @keyframes bid-feedback {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-60px) scale(0.7); opacity: 0; }
        }
        .bid-feedback-animation {
            position: absolute;
            top: -30px; /* Posi√ß√£o inicial acima do campo de lance */
            left: 50%;
            transform: translateX(-50%);
            font-size: 2rem;
            font-weight: 900;
            pointer-events: none;
            animation: bid-feedback 1s ease-out forwards;
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
        }
        
        /* Anima√ß√£o para Atualiza√ß√£o do Lance do Leil√£o */
        @keyframes bid-update {
            0% { transform: scale(1); color: #fbbf24; /* amber-400 */ }
            50% { transform: scale(1.15); color: #fde047; /* yellow-300 */ text-shadow: 0 0 15px #fde047;}
            100% { transform: scale(1); color: #fbbf24; /* amber-400 */ }
        }
        .animate-bid-update {
            animation: bid-update 0.4s ease-in-out;
        }

        /* Anima√ß√£o de Letreiro para Descri√ß√£o da Rodada */
        .marquee-container {
            overflow: hidden;
            white-space: nowrap;
            box-sizing: border-box;
        }
        .marquee-text {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 20s linear infinite;
        }
        @keyframes marquee {
            0%   { transform: translate(0, 0); }
            100% { transform: translate(-100%, 0); }
        }

        /* Anima√ß√£o de Brilho para Pr√™mios */
        @keyframes prize-glow {
            0%, 100% { text-shadow: 0 0 5px rgba(251, 191, 36, 0.7); }
            50% { text-shadow: 0 0 15px rgba(253, 224, 71, 1); }
        }
        .prize-highlight {
            animation: prize-glow 3s ease-in-out infinite;
        }

        /* Estilos espec√≠ficos para ordenar as rodadas: Ativa no topo, Completa no final */
        #games-list {
            display: flex;
            flex-direction: column;
        }
        .game-item {
            order: 2; /* Padr√£o: Rodadas n√£o iniciadas ficam no meio */
        }
        .game-item.active-round-highlight {
            order: 1; /* Rodada Ativa: vai para o topo */
        }
        .game-item.game-completed-style {
            order: 3; /* Rodada Conclu√≠da: vai para o final */
        }

        /* Anima√ß√£o de flash para o sorteio autom√°tico */
        @keyframes custom-flash {
            0% { opacity: 0.5; }
            50% { opacity: 1.0; transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .animate-custom-flash { 
            animation: custom-flash 0.3s ease-out; 
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
        }
        
        /* Estilo base para o n√∫mero anunciado */
        #current-number {
             -webkit-text-stroke: 2px #000000; 
             color: #FFFFFF; 
             text-shadow: none !important; 
        }

        /* Novo estilo para o n√∫mero flutuante do sorteio autom√°tico */
        .autodraw-display {
            font-size: clamp(10rem, 30vw, 20rem); 
            line-height: 1; 
            text-shadow: 2px 2px 5px #000;
        }

        /* Estilo para o modal de Encerramento/Break (Corrigido para evitar scroll da p√°gina) */
        #event-break-modal .modal-content {
            max-height: 95vh;
            width: 95vw;
        }
        
        @keyframes slide-down-fade-in {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .next-round-modal-content {
            animation: slide-down-fade-in 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        [contenteditable="true"]:empty:before { content: attr(placeholder); color: #6b7280; pointer-events: none; display: block; }
        #confetti-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 50; pointer-events: none; }
        .bingo-cell, .winner-card { cursor: pointer; }
        .bingo-cell { position: relative; } /* Necess√°rio para posicionar o indicador de patrocinador */

        /* Indicador de Patrocinador no Painel de N√∫meros */
        .bingo-cell.has-sponsor::after {
            content: '';
            position: absolute;
            bottom: 6px;
            right: 6px;
            width: 10px;
            height: 10px;
            background-color: #f59e0b; /* amber-500 */
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 5px rgba(0,0,0,0.7);
        }

        /* Esconde o seletor de cor padr√£o */
        input[type="color"] { -webkit-appearance: none; appearance: none; border: none; width: 24px; height: 24px; cursor: pointer; background-color: transparent; padding: 0; }
        /* Estiliza a "bolha" de cor */
        input[type="color"]::-webkit-color-swatch-wrapper { padding: 0; }
        input[type="color"]::-webkit-color-swatch { border: 2px solid #9ca3af; border-radius: 50%; }

    </style>
</head>
<body class="bg-gray-900 text-white">
    <meta name="description" content="An interactive bingo and prize show application designed for local, offline events. Manage rounds, draw numbers, track winners, and customize the game experience.">
    <canvas id="confetti-canvas"></canvas>
    
    <div class="flex flex-col min-h-screen">
        <header class="text-center py-4 flex-shrink-0 relative mt-6">
            <div class="flex flex-col items-center justify-center">
                <!-- App Logo (ser√° preenchido dinamicamente) -->
                <div id="app-logo" class="w-32 h-32 sm:w-48 sm:h-48 mb-2 logo-animation">
                    <!-- O logo customizado ser√° inserido aqui, ou o SVG padr√£o ser√° mostrado -->
                </div>
                
                <div id="main-title" class="text-2xl sm:text-3xl font-black text-amber-400 leading-tight focus:outline-none focus:ring-2 ring-amber-500 rounded-lg px-2">
                    <!-- Ser√° preenchido pelo JS -->
                </div>
            </div>
        </header>

        <!-- A classe grid agora define o layout principal -->
        <main class="grid grid-cols-1 lg:grid-cols-5 gap-6 p-4 sm:p-6">
            
            <!-- BARRA LATERAL ESQUERDA: V√çDEO, CONTROLES GERAIS E VENCEDORES -->
            <aside class="lg:col-span-1 bg-gray-800 rounded-2xl shadow-2xl p-6 flex flex-col">
                
                <!-- 1. COMO USAR? (TOPO ESQUERDO, AGORA PADRONIZADO) -->
                <div class="bg-gray-800 p-0 rounded-xl mb-4 flex-shrink-0">
                    <h3 class="text-base font-bold text-sky-400 mb-3 text-center" data-label-key="howToUseTitle">üé¨ Como Usar?</h3>
                    <!-- Campo de link escondido para salvar o valor no estado -->
                    <input type="hidden" id="tutorial-link-input">
                    
                    <button id="show-tutorial-btn" disabled class="w-full bg-gray-500 text-white font-bold py-3 px-4 rounded-lg text-sm transition-all shadow-lg cursor-not-allowed" data-label-key="howToUseButton">Em Breve!</button>
                </div>

                <!-- NOVO: Hist√≥rico de Vers√µes -->
                <button id="show-changelog-btn" class="w-full bg-slate-600 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all mb-4 flex-shrink-0" data-label-key="versionHistoryButton">Hist√≥rico de Vers√µes</button>

                <!-- NOVO: Bot√£o de Configura√ß√µes de Personaliza√ß√£o -->
                <button id="show-settings-btn" class="w-full bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all mb-4 flex-shrink-0" data-label-key="customizeButton">Personalizar</button>

                <!-- 2. BOT√ïES DE CONTROLE GERAIS -->
                <div class="flex flex-col gap-2 mb-4 flex-shrink-0">
                    <button id="save-local-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all" data-label-key="saveToFileButton">Salvar no Computador</button>
                    <label for="load-local-input" class="w-full bg-sky-600 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all text-center cursor-pointer" data-label-key="loadFromFileButton">Carregar do Computador</label>
                    <input type="file" id="load-local-input" class="hidden" accept=".json,application/json">
                    <div class="flex gap-2">
                        <button id="interval-btn" class="flex-grow bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all" data-label-key="intervalButton">Intervalo</button>
                        <button id="edit-menu-btn" title="Editar Card√°pio" class="flex-shrink-0 bg-gray-600 hover:bg-gray-500 text-white font-bold p-2 rounded-lg text-sm shadow-lg transition-all">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" /><path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd" /></svg>
                        </button>
                    </div>
                    <button id="share-btn" class="hidden w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-xl text-base shadow-lg transition-all" data-label-key="generateProofButton">Gerar Prova</button>
                    <button id="end-event-btn" class="hidden w-full bg-purple-700 hover:bg-purple-800 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all" data-label-key="endEventButton">Encerrar Evento</button>
                    <button id="reset-event-btn" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all" data-label-key="resetEventButton">Reiniciar Evento</button>
                </div>

                <!-- LEGENDA DE ATALHOS -->
                <div id="shortcuts-legend" class="mt-4 flex-shrink-0">
                    <h3 class="text-base font-bold text-sky-400 mb-3 text-center" data-label-key="quickShortcutsTitle">Atalhos R√°pidos</h3>
                    <ul id="shortcuts-legend-list" class="space-y-2 text-xs text-slate-400 pl-4">
                        <!-- Conte√∫do din√¢mico via JS -->
                    </ul>
                </div>

                <!-- 3. VENCEDORES (LISTA FLEX√çVEL E SCROLL√ÅVEL) -->
                <h2 class="text-2xl font-bold text-slate-300 mb-2 flex-shrink-0 mt-4" data-label-key="winnersTitle">Vencedores</h2>
                <div id="winners-container" class="space-y-4 flex-grow overflow-y-auto pr-2"></div>

                <!-- INSCREVA-SE -->
                <div class="bg-gray-700 p-4 rounded-xl text-center mt-4 flex-shrink-0">
                    <h3 class="text-base font-bold text-sky-400 mb-3" data-label-key="subscribeTitle">Inscreva-se no Canal</h3>
                    <a href="https://www.youtube.com/@iaecatolico" target="_blank" class="block w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all" data-label-key="subscribeButton">Inscrever-se no Canal</a>
                </div>
            </aside>

            <!-- COLUNA CENTRAL: PAINEL, N√öMERO ANUNCIado E BRINDES -->
            <div class="lg:col-span-3 flex flex-col gap-6">
                <!-- PAINEL DE N√öMEROS -->
                <section class="p-4 bg-gray-800 rounded-2xl shadow-xl">
                    <h2 class="text-xl font-bold mb-4 text-center text-slate-300" data-label-key="bingoBoardTitle">Painel de N√∫meros</h2>
                    
                    <!-- NOVO PAINEL DE RODADA ATIVA -->
                    <div id="active-round-panel" class="bg-gray-700 rounded-lg mb-4 p-6 text-center transition-all shadow-inner hidden cursor-pointer hover:bg-gray-600" title="Clique para editar pr√™mios e descri√ß√£o">
                        <div class="grid grid-cols-3 items-center gap-x-4">
                            <div id="active-round-info" class="text-left">
                                <p id="active-round-name" class="text-3xl font-bold text-sky-400"></p>
                                <p class="text-sm text-slate-400 mt-1"><span id="active-round-date"></span> - <span id="active-round-time"></span></p>
                            </div>
                            <div id="active-round-prizes" class="text-center border-x border-gray-600 px-4 text-lg prize-highlight">
                                <!-- Pr√™mios ser√£o inseridos aqui -->
                            </div>
                            <div id="active-round-stats" class="text-right">
                                <p class="text-sm text-slate-400">N√∫meros Sorteados</p>
                                <p id="active-round-called-count" class="text-3xl font-bold text-white"></p>
                            </div>
                        </div>
                        <div id="active-round-description-display" class="marquee-container text-slate-300 text-base mt-3 pt-3 border-t border-gray-600 hidden text-left italic">
                            <span class="marquee-text"></span>
                        </div>
                    </div>
                    <div id="no-active-round-panel" class="text-lg font-bold text-center text-slate-400 bg-gray-700 py-4 rounded-lg mb-4 transition-all shadow-inner">
                        Selecione uma Rodada
                    </div>
                    
                    <!-- NOVO: Wrapper para aplicar o zoom (com overflow-x-auto para evitar sobreposi√ß√£o) -->
                    <div id="bingo-board-wrapper" class="w-full mx-auto overflow-x-auto">
                        <!-- AQUI AS LETRAS B-I-N-G-O/A-J-U-D-E SER√ÉO RENDERIZADAS DINAMICAMENTE -->
                        <div id="bingo-board" class="grid grid-cols-10 gap-x-2 sm:gap-x-4 min-w-max"></div>
                    </div>

                    <div class="mt-4 grid grid-cols-3 gap-2">
                         <button id="auto-draw-btn-bottom" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-xl text-sm shadow-lg transition-transform transform hover:scale-105" data-label-key="autoDrawButton">Sorteio Autom√°tico</button>
                         <button id="verify-btn-bottom" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-xl text-sm shadow-lg transition-transform transform hover:scale-105" data-label-key="verifyButton">Verificar</button>
                         <button id="clear-round-btn-bottom" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-xl text-sm shadow-lg transition-transform transform hover:scale-105" data-label-key="clearRoundButton">Limpar Rodada Atual</button>
                    </div>
                </section>
                
                <div class="grid grid-cols-1 lg:grid-cols-5 gap-6 items-center">
                    <!-- CONTROLES -->
                    <div id="controls-panel-left" class="lg:col-span-1 bg-gray-800 rounded-2xl p-4 w-full mx-auto flex flex-col">
                        <div id="clock" class="text-center text-2xl font-bold text-slate-300 mb-2"></div>
                        <h2 class="text-lg font-bold text-slate-300 mb-3 text-center" data-label-key="controlsPanelTitle">Controles</h2>
                        
                        <!-- Slider de Zoom PAINEL DE N√öMEROS -->
                        <div class="mb-3">
                            <label for="board-zoom-slider" class="block text-xs font-bold text-slate-400 mb-1" data-label-key="boardScaleLabel">Escala Painel N√∫meros (<span id="board-zoom-value">100</span>%)</label>
                            <input type="range" id="board-zoom-slider" min="50" max="150" value="100" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer range-lg">
                        </div>

                        <!-- Slider de Zoom N√öMERO ANUNCIADO -->
                        <div class="mb-3">
                            <label for="display-zoom-slider" class="block text-xs font-bold text-slate-400 mb-1" data-label-key="displayScaleLabel">Escala N√∫mero Anunciado (<span id="display-zoom-value">100</span>%)</label>
                            <input type="range" id="display-zoom-slider" min="50" max="150" value="100" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer range-lg">
                        </div>


                        <form id="manual-input-form" class="flex flex-col gap-2 mb-3">
                            <div class="flex items-center gap-1">
                                <input type="text" id="letter-input" placeholder="L" maxlength="1" class="text-center text-sm uppercase font-bold w-10 p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500">
                                <input type="number" id="number-input" placeholder="N¬∫" class="text-center text-sm font-bold flex-grow p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500" min="1" max="75">
                            </div>
                            <button type="submit" class="w-full bg-sky-600 hover:bg-sky-700 text-white font-bold p-2 rounded-lg text-sm shadow-lg" data-label-key="manualAnnounceButton">Anunciar Manual</button>
                        </form>
                        <p id="error-message" class="text-red-500 font-bold h-5 mb-1 text-xs text-center"></p>
                        <div class="grid grid-cols-1 gap-2">
                            <button id="auto-draw-btn-top" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-3 text-xs rounded-lg shadow-lg" data-label-key="autoDrawButton">Sorteio Autom√°tico</button>
                            <button id="verify-btn-top" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 text-xs rounded-lg shadow-lg" data-label-key="verifyButton">Verificar</button>
                            <button id="clear-round-btn-top" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-3 text-xs rounded-lg shadow-lg" data-label-key="clearRoundButton">Limpar Rodada Atual</button>
                        </div>
                    </div>
                    
                    <!-- N√öMERO ANUNCIADO -->
                    <div class="lg:col-span-3 bg-gray-800 rounded-2xl shadow-2xl p-6 flex flex-col justify-center items-center h-full relative">
                        <p id="main-display-label" class="text-xl sm:text-2xl font-bold text-slate-400 tracking-wider uppercase" data-label-key="announcedNumberLabel">N√∫mero Anunciado</p>
                        <!-- Wrapper do Zoom para o N√∫mero Anunciado -->
                        <div id="current-number-wrapper" class="my-4 flex justify-center items-center w-full">
                             <!-- Container para o n√∫mero do bingo e para o n√∫mero do brinde -->
                            <div id="current-number" class="font-black flex justify-center items-center gap-x-2 sm:gap-x-4 rounded-full w-64 h-64 sm:w-80 sm:h-80" style="font-size: clamp(6rem, 25vw, 15rem); line-height: 1; visibility: hidden;"></div>
                             <!-- Container separado para o sorteio de brinde, para n√£o interferir com o do bingo -->
                            <div id="prize-draw-display-container" class="absolute inset-0 flex items-center justify-center hidden"></div>
                        </div>
                        <div class="mt-4 text-center">
                            <h3 class="text-xl font-bold text-slate-300 mb-3" data-label-key="lastNumbersLabel">√öltimos 5 N√∫meros</h3>
                            <div id="last-numbers-display" class="flex flex-wrap justify-center gap-4"></div>
                        </div>
                    </div>
                    
                    <!-- SORTEIO DE BRINDES -->
                    <div id="prize-draw-section" class="lg:col-span-1 bg-gray-800 rounded-2xl p-4 w-full mx-auto flex flex-col">
                        <h2 class="text-lg font-bold text-slate-300 mb-3 text-center" data-label-key="prizeDrawTitle">Sorteio de Brindes</h2>
                        <form id="prize-draw-form" class="flex flex-col gap-2 flex-grow">
                             <button type="button" id="check-drawn-prizes-btn" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-3 rounded-lg text-xs shadow-lg mb-1" data-label-key="checkDrawnPrizesButton">Conferir Sorteados</button>
                            <div class="flex flex-col gap-1">
                                <label for="prize-draw-min" class="text-xs text-slate-400" data-label-key="prizeDrawFromLabel">De:</label>
                                <input type="number" id="prize-draw-min" value="1" class="w-full text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg">
                                <label for="prize-draw-max" class="text-xs text-slate-400 mt-1" data-label-key="prizeDrawToLabel">At√©:</label>
                                <input type="number" id="prize-draw-max" value="500" class="w-full text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg">
                            </div>
                            <div class="flex items-center justify-center gap-2 text-xs text-slate-300">
                                <input type="checkbox" id="no-repeat-prize-draw" class="h-3 w-3 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                <label for="no-repeat-prize-draw" data-label-key="noRepeatCheckboxLabel">N√£o repetir sorteados</label>
                            </div>
                            <button type="button" id="prize-draw-random-btn" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold p-3 rounded-lg text-lg shadow-lg mt-1" data-label-key="prizeDrawRandomButton">Sortear</button>
                            <input type="text" id="prize-draw-number-manual" data-label-key="prizeDrawTicketNumberPlaceholder" placeholder="N¬∫ Cartela" class="text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 mt-2">
                            <input type="text" id="prize-draw-name" data-label-key="prizeDrawNamePlaceholder" placeholder="Nome (Opcional)" class="text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500">
                            <input type="text" id="prize-draw-description" data-label-key="prizeDrawDescriptionPlaceholder" placeholder="Brinde (Opcional)" class="text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500">
                            <button type="submit" class="w-full bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-xl text-sm shadow-lg mt-1" data-label-key="registerPrizeButton">Registrar Brinde</button>
                        </form>
                    </div>
                </div>
                 <!-- 2. LEIL√ÉO (MOVIDO PARA O PAINEL CENTRAL) -->
                <section class="bg-gray-800 p-6 rounded-2xl shadow-xl">
                    <h2 class="text-2xl font-bold text-slate-300 mb-4 text-center" data-label-key="auctionTitle">Leil√£o</h2>
                    <form id="auction-form" class="space-y-3 max-w-lg mx-auto">
                        <input type="text" id="auction-item-name" placeholder="Nome do Item" class="w-full text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500">
                        <div class="relative text-center">
                            <div id="bid-feedback-container" class="absolute inset-0 z-10 pointer-events-none"></div>
                            <div id="auction-current-bid-display" class="text-7xl font-black text-amber-400 py-2">R$ 0,00</div>
                            <input type="hidden" id="auction-item-current-bid" value="0">
                        </div>
                        <div class="grid grid-cols-2 gap-2">
                            <button type="button" id="add-50-bid" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg text-lg">+ R$ 50</button>
                            <button type="button" id="add-100-bid" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg text-lg">+ R$ 100</button>
                        </div>
                        <div class="flex gap-2">
                            <input type="number" id="custom-bid-input" placeholder="Valor" class="flex-grow text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500">
                            <button type="button" id="add-custom-bid-btn" class="bg-sky-600 hover:bg-sky-700 text-white font-bold p-2 px-4 rounded-lg">Adicionar</button>
                        </div>
                        <input type="text" id="auction-winner-name" placeholder="Nome do Arrematador" class="w-full text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500">
                        <div class="flex gap-2 pt-2">
                            <button type="button" id="reset-auction-btn" class="bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-6 rounded-lg">Limpar</button>
                            <button type="submit" class="flex-grow bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-6 rounded-lg text-xl flex items-center justify-center gap-2">
                                <span data-label-key="sellItemButton">Vender Item</span>
                                <span id="gavel-icon" class="hidden text-2xl">üî®</span>
                            </button>
                        </div>
                    </form>
                </section>
            </div>

            <!-- BARRA LATERAL DIREITA: RODADAS, PR√äMIOS E APOIO -->
            <aside class="lg:col-span-1 bg-gray-800 rounded-2xl shadow-2xl p-6 flex flex-col">
                <!-- RODADAS E PR√äMIOS -->
                <div class="flex-grow">
                    <button id="add-extra-game-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl text-base shadow-lg transition-all mb-4" data-label-key="addExtraRoundButton">Adicionar Rodada Extra</button>
                    <h2 class="text-2xl font-bold text-slate-300 mb-4" data-label-key="roundsAndPrizesTitle">Rodadas e Pr√™mios</h2>
                    <div id="games-list" class="space-y-4">
                        <!-- As rodadas ser√£o inseridas dinamicamente aqui -->
                    </div>
                </div>
                
                <!-- CONTROLES DE RODADA E APOIO -->
                <div class="flex-shrink-0 mt-6 space-y-4">
                    <!-- APOIO -->
                    <div class="bg-gray-700 p-4 rounded-xl text-center">
                        <h3 class="text-base font-bold text-sky-400 mb-3" data-label-key="supportTitle">Apoie o Seminarista ü§ù</h3>
                        <button id="show-donation-modal-btn" class="w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all" data-label-key="supportButton">Fa√ßa sua Doa√ß√£o</button>
                    </div>
                </div>
            </aside>
        </main>
        
        <footer class="text-center py-6 px-4 text-xs text-slate-400 flex-shrink-0">
            <p class="max-w-4xl mx-auto">
                Este programa √© o resultado do Trabalho de Conclus√£o de Curso de <a href="https://www.instagram.com/oalison.rodrigues" target="_blank" class="text-sky-400 hover:underline">Alison Fernando Rodrigues dos Santos</a>, sob orienta√ß√£o do <a href="https://www.instagram.com/danilonobresant" target="_blank" class="text-sky-400 hover:underline">Prof. Pe. Dr. Danilo Nobre dos Santos</a> T√≠tulo: "E O VERBO SE FEZ I.A.? DA REFLEX√ÉO TEOL√ìGICA E COMUNICATIVA AO DESENVOLVIMENTO DE SOLU√á√ïES PASTORAIS COM INTELIG√äNCIA ARTIFICIAL". (<a href="https://drive.google.com/file/d/14uPBeHCT5aP1ACPLlPpIjfD5J1iLQfyD/view?usp=drive_link" target="_blank" class="text-sky-400 hover:underline">Link para acessar</a>)
                <br>
                Desenvolvido inteiramente com a Intelig√™ncia Artificial Gemini 2.5 PRO da Google, este projeto demonstra como √© poss√≠vel criar solu√ß√µes pastorais inovadoras com criatividade e ferramentas de baixo custo ou gratuitas, mesmo sem conhecimentos pr√©vios em programa√ß√£o.
            </p>
            <p class="mt-2">
                Vers√£o <span id="version">7.0</span> - <span id="last-updated">√öltima atualiza√ß√£o do programa: carregando...</span>
            </p>
        </footer>
    </div>
    
    <!-- MODAIS (INICIALMENTE OCULTOS) -->
    <div id="verification-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="floating-number-modal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="sponsor-display-modal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="winner-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="custom-alert-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="congrats-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="event-break-modal" class="fixed inset-0 bg-gray-900 bg-opacity-95 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="menu-edit-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="winner-edit-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="delete-confirm-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="clear-round-confirm-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="proof-options-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="spinning-wheel-modal" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 hidden"></div>
    <div id="reset-confirm-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="drawn-prizes-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="donation-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="final-winners-modal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="changelog-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="settings-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="round-edit-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden"></div>
    <div id="next-round-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-[60] hidden"></div>

    <!-- Rodap√© para Impress√£o -->
    <div id="print-footer" class="hidden">
        <div class="content">
            <div class="info">
                <p><strong>Bingo Show v<span id="print-version"></span></strong></p>
                <p>Impresso em: <span id="print-datetime"></span></p>
            </div>
            <div class="qr-code">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=https://bingoshow.netlify.app" alt="QR Code para bingoshow.netlify.app">
                <p>Acesse o App</p>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <script type="module" src="/index.tsx"></script>
</body>
</html>