<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bingo Cloud (Show de Pr√™mios)</title>
    <!-- Carrega o Tailwind CSS para estiliza√ß√£o -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carrega a fonte Inter do Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        /* Estilos personalizados */
        body { font-family: 'Inter', sans-serif; }

        /* Anima√ß√µes */
        @keyframes logo-glow {
            0%, 100% { filter: drop-shadow(0 0 4px #FFD700); transform: scale(1); }
            55% { filter: drop-shadow(0 0 12px #fef08a); transform: scale(1.05); }
        }
        .logo-animation {
            animation: logo-glow 3s ease-in-out infinite;
        }

        @keyframes bounce-in {
            0% { transform: translateY(-200px) scale(0.5); opacity: 0; }
            50% { transform: translateY(0) scale(1.1); opacity: 1; }
            70% { transform: translateY(-30px) scale(0.95); }
            90% { transform: translateY(0) scale(1.05); }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }
        .animate-bounce-in { animation: bounce-in 1s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards; }

        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        @keyframes pop-up { 0% { opacity: 0; transform: scale(0.8); } 100% { opacity: 1; transform: scale(1); } }
        .modal-content { animation: pop-up 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; }
        
        @keyframes shake-error {
            10%, 90% { transform: translateX(-1px); }
            20%, 80% { transform: translateX(2px); }
            30%, 50%, 70% { transform: translateX(-4px); }
            40%, 60% { transform: translateX(4px); }
        }
        .animate-shake-error { animation: shake-error 0.82s cubic-bezier(.36,.07,.19,.97) both; }
        
        /* Estilo para Rodada Conclu√≠da (cinza/opaca) */
        .game-completed-style {
            opacity: 0.5;
            background-color: #374151 !important; /* Cor de fundo cinza escuro */
            border: 1px solid #4b5563;
            transition: all 0.5s;
        }
        
        .animate-flash-complete { animation: flash-complete-dark 1s ease-out; }
        @keyframes flash-complete-dark {
            0%, 100% { background-color: #1f2937; }
            50% { background-color: #10b981; }
        }
        
        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.5s ease-out forwards; }

        @keyframes pulse-border {
            0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            50% { box-shadow: 0 0 0 4px rgba(16, 185, 129, 0); }
        }
        .active-round-highlight {
            animation: pulse-border 2s infinite; /* Anima√ß√£o de pulso */
            border: 2px solid #10b981;
            transform: scale(1.02); /* Leve destaque visual */
            opacity: 1 !important; /* Garante que fique totalmente vis√≠vel */
        }

        .playing-btn {
            background-color: #16a34a !important; /* green-600 */
        }
        .playing-btn:hover {
            background-color: #15803d !important; /* green-700 */
        }

        @keyframes fall-in-ball {
            0% { transform: scale(0.3); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        .ball-fall-in {
            animation: fall-in-ball 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
        }
        
        /* ANIMA√á√ÉO DO GLOBO E CICLONE DE N√öMEROS */
        @keyframes spin-cage {
            from { transform: rotateY(0deg) rotateX(10deg); }
            to { transform: rotateY(360deg) rotateX(10deg); }
        }
        .spinning-cage {
            transform-style: preserve-3d;
            animation: spin-cage 0.5s linear infinite;
        }
        .number-cyclone-particle {
            position: absolute;
            color: white;
            font-weight: 900;
            opacity: 0.7;
            transform-style: preserve-3d;
            animation-timing-function: ease-in-out;
            animation-iteration-count: infinite;
        }
        @keyframes fly-in-cage-1 {
            0% { transform: translate3d(0, 0, 0) rotateY(0deg); }
            100% { transform: translate3d(50px, 80px, 150px) rotateY(360deg); }
        }
        @keyframes fly-in-cage-2 {
            0% { transform: translate3d(0, 0, 0) rotateX(0deg); }
            100% { transform: translate3d(-80px, -120px, 100px) rotateX(360deg); }
        }
        @keyframes fly-in-cage-3 {
            0% { transform: translate3d(0, 0, 0) rotateZ(0deg); }
            100% { transform: translate3d(150px, -90px, -50px) rotateZ(360deg); }
        }
        @keyframes fly-in-cage-4 {
            0% { transform: translate3d(0, 0, 0) rotateX(0deg) rotateY(0deg); }
            100% { transform: translate3d(-120px, 140px, -80px) rotateX(-360deg) rotateY(360deg); }
        }
        
        /* ANIMA√á√ÉO DO MARTELO DO LEIL√ÉO (Aprimorada) */
        @keyframes gavel-strike-impact {
            0% { transform: rotate(25deg); }
            50% { transform: rotate(-45deg) scale(1.1); }
            70% { transform: rotate(0deg) scale(1.4); } /* Impacto */
            90% { transform: rotate(10deg) scale(1.1); } /* Recuo */
            100% { transform: rotate(0deg); }
        }
        .animate-gavel-strike {
            display: inline-block !important;
            animation: gavel-strike-impact 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            transform-origin: bottom right; /* Ponto de rota√ß√£o aprimorado */
        }
        
        /* ANIMA√á√ÉO DE LANCE DO LEIL√ÉO */
        @keyframes bid-feedback {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-60px) scale(0.7); opacity: 0; }
        }
        .bid-feedback-animation {
            position: absolute;
            top: -30px; /* Posi√ß√£o inicial acima do campo de lance */
            left: 50%;
            transform: translateX(-50%);
            font-size: 2rem;
            font-weight: 900;
            pointer-events: none;
            animation: bid-feedback 1s ease-out forwards;
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
        }
        
        /* Anima√ß√£o para Atualiza√ß√£o do Lance do Leil√£o */
        @keyframes bid-update {
            0% { transform: scale(1); color: #fbbf24; /* amber-400 */ }
            50% { transform: scale(1.15); color: #fde047; /* yellow-300 */ text-shadow: 0 0 15px #fde047;}
            100% { transform: scale(1); color: #fbbf24; /* amber-400 */ }
        }
        .animate-bid-update {
            animation: bid-update 0.4s ease-in-out;
        }

        /* Anima√ß√£o de Letreiro para Descri√ß√£o da Rodada */
        .marquee-container {
            overflow: hidden;
            white-space: nowrap;
            box-sizing: border-box;
        }
        .marquee-text {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 20s linear infinite;
        }
        @keyframes marquee {
            0%   { transform: translate(0, 0); }
            100% { transform: translate(-100%, 0); }
        }

        /* Anima√ß√£o de Brilho para Pr√™mios */
        @keyframes prize-glow {
            0%, 100% { text-shadow: 0 0 5px rgba(251, 191, 36, 0.7); }
            50% { text-shadow: 0 0 15px rgba(253, 224, 71, 1); }
        }
        .prize-highlight {
            animation: prize-glow 3s ease-in-out infinite;
        }

        /* Estilos espec√≠ficos para ordenar as rodadas: Ativa no topo, Completa no final */
        #games-list {
            display: flex;
            flex-direction: column;
        }
        .game-item {
            order: 2; /* Padr√£o: Rodadas n√£o iniciadas ficam no meio */
        }
        .game-item.active-round-highlight {
            order: 1; /* Rodada Ativa: vai para o topo */
        }
        .game-item.game-completed-style {
            order: 3; /* Rodada Conclu√≠da: vai para o final */
        }

        /* Anima√ß√£o de flash para o sorteio autom√°tico */
        @keyframes custom-flash {
            0% { opacity: 0.5; }
            50% { opacity: 1.0; transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .animate-custom-flash { 
            animation: custom-flash 0.3s ease-out; 
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
        }
        
        /* Estilo base para o n√∫mero anunciado */
        #current-number {
             -webkit-text-stroke: 2px #000000; 
             color: #FFFFFF; 
             text-shadow: none !important; 
        }

        /* Novo estilo para o n√∫mero flutuante do sorteio autom√°tico */
        .autodraw-display {
            font-size: clamp(10rem, 30vw, 20rem); 
            line-height: 1; 
            text-shadow: 2px 2px 5px #000;
        }

        /* Estilo para o modal de Encerramento/Break (Corrigido para evitar scroll da p√°gina) */
        #event-break-modal .modal-content {
            max-height: 95vh;
            width: 95vw;
        }

        [contenteditable="true"]:empty:before { content: attr(placeholder); color: #6b7280; pointer-events: none; display: block; }
        #confetti-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 50; pointer-events: none; }
        .bingo-cell, .winner-card { cursor: pointer; }
        .bingo-cell { position: relative; } /* Necess√°rio para posicionar o indicador de patrocinador */

        /* Indicador de Patrocinador no Painel de N√∫meros */
        .bingo-cell.has-sponsor::after {
            content: '';
            position: absolute;
            bottom: 6px;
            right: 6px;
            width: 10px;
            height: 10px;
            background-color: #f59e0b; /* amber-500 */
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 5px rgba(0,0,0,0.7);
        }

        /* Esconde o seletor de cor padr√£o */
        input[type="color"] { -webkit-appearance: none; appearance: none; border: none; width: 24px; height: 24px; cursor: pointer; background-color: transparent; padding: 0; }
        /* Estiliza a "bolha" de cor */
        input[type="color"]::-webkit-color-swatch-wrapper { padding: 0; }
        input[type="color"]::-webkit-color-swatch { border: 2px solid #9ca3af; border-radius: 50%; }

    </style>
</head>
<body class="bg-gray-900 text-white">
    <meta name="description" content="An interactive prize show and bingo application.">
    <canvas id="confetti-canvas"></canvas>
    
    <div class="flex flex-col min-h-screen">
        <header class="text-center py-4 flex-shrink-0 relative mt-6">
            <div class="flex flex-col items-center justify-center">
                <!-- App Logo (ser√° preenchido dinamicamente) -->
                <div id="app-logo" class="w-32 h-32 sm:w-48 sm:h-48 mb-2">
                    <!-- O logo customizado ser√° inserido aqui, ou o SVG padr√£o ser√° mostrado -->
                </div>
                
                <div id="main-title" class="text-2xl sm:text-3xl font-black text-sky-400 leading-tight focus:outline-none focus:ring-2 ring-sky-500 rounded-lg px-2">
                    <!-- Ser√° preenchido pelo JS -->
                </div>
                 <div id="connection-indicator" title="Tentando conectar ao servidor..." class="flex items-center justify-center gap-2 px-3 py-1 rounded-lg text-white text-xs font-bold transition-all duration-500 bg-blue-500 mt-2 mx-auto">
                    <div class="w-2 h-2 rounded-full bg-white animate-pulse"></div>
                    <span id="connection-status-text">Conectando...</span>
                </div>
            </div>
        </header>

        <!-- A classe grid agora define o layout principal -->
        <main class="grid grid-cols-1 lg:grid-cols-5 gap-6 p-4 sm:p-6">
            
            <!-- BARRA LATERAL ESQUERDA: V√çDEO, CONTROLES GERAIS E VENCEDORES -->
            <aside class="lg:col-span-1 bg-gray-800 rounded-2xl shadow-2xl p-6 flex flex-col">
                
                <!-- 1. COMO USAR? (TOPO ESQUERDO, AGORA PADRONIZADO) -->
                <div class="bg-gray-800 p-0 rounded-xl mb-4 flex-shrink-0">
                    <h3 class="text-base font-bold text-sky-400 mb-3 text-center" data-label-key="howToUseTitle">üé¨ Como Usar?</h3>
                    <!-- Campo de link escondido para salvar o valor no estado -->
                    <input type="hidden" id="tutorial-link-input">
                    
                    <button id="show-tutorial-btn" disabled class="w-full bg-gray-500 text-white font-bold py-3 px-4 rounded-lg text-sm transition-all shadow-lg cursor-not-allowed" data-label-key="howToUseButton">Em Breve!</button>
                </div>

                <!-- NOVO: Hist√≥rico de Vers√µes -->
                <button id="show-changelog-btn" class="w-full bg-slate-600 hover:bg-slate-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all mb-4 flex-shrink-0" data-label-key="versionHistoryButton">Hist√≥rico de Vers√µes</button>

                <!-- NOVO: Bot√£o de Configura√ß√µes de Personaliza√ß√£o -->
                <button id="show-settings-btn" class="w-full bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all mb-4 flex-shrink-0" data-label-key="customizeButton">Personalizar</button>

                <!-- 2. BOT√ïES DE CONTROLE GERAIS -->
                <div class="flex flex-col gap-2 mb-4 flex-shrink-0">
                    <button id="save-local-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all" data-label-key="saveToFileButton">Salvar no Computador</button>
                    <label for="load-local-input" class="w-full bg-sky-600 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all text-center cursor-pointer" data-label-key="loadFromFileButton">Carregar do Computador</label>
                    <input type="file" id="load-local-input" class="hidden" accept=".json,application/json">
                    <button id="interval-btn" class="w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all" data-label-key="intervalButton">Intervalo</button>
                    <button id="share-btn" class="hidden w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-xl text-base shadow-lg transition-all" data-label-key="generateProofButton">Gerar Prova</button>
                    <button id="end-event-btn" class="hidden w-full bg-purple-700 hover:bg-purple-800 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all" data-label-key="endEventButton">Encerrar Evento</button>
                    <button id="reset-event-btn" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all" data-label-key="resetEventButton">Reiniciar Evento</button>
                </div>

                <!-- LEGENDA DE ATALHOS -->
                <div id="shortcuts-legend" class="mt-4 flex-shrink-0">
                    <h3 class="text-base font-bold text-sky-400 mb-3 text-center" data-label-key="quickShortcutsTitle">Atalhos R√°pidos</h3>
                    <ul id="shortcuts-legend-list" class="space-y-2 text-xs text-slate-400 pl-4">
                        <!-- Conte√∫do din√¢mico via JS -->
                    </ul>
                </div>

                <!-- 3. VENCEDORES (LISTA FLEX√çVEL E SCROLL√ÅVEL) -->
                <h2 class="text-2xl font-bold text-slate-300 mb-2 flex-shrink-0 mt-4" data-label-key="winnersTitle">Vencedores</h2>
                <!-- Removendo max-h: [85vh] -->
                <div id="winners-container" class="space-y-4 flex-grow overflow-y-auto pr-2"></div>

            </aside>

            <!-- COLUNA CENTRAL: PAINEL, N√öMERO ANUNCIado E BRINDES -->
            <div class="lg:col-span-3 flex flex-col gap-6">
                <!-- PAINEL DE N√öMEROS -->
                <section class="p-4 bg-gray-800 rounded-2xl shadow-xl">
                    <h2 class="text-xl font-bold mb-4 text-center text-slate-300" data-label-key="bingoBoardTitle">Painel de N√∫meros</h2>
                    
                    <!-- NOVO PAINEL DE RODADA ATIVA -->
                    <div id="active-round-panel" class="bg-gray-700 rounded-lg mb-4 p-6 text-center transition-all shadow-inner hidden cursor-pointer hover:bg-gray-600" title="Clique para editar pr√™mios e descri√ß√£o">
                        <div class="grid grid-cols-3 items-center gap-x-4">
                            <div id="active-round-info" class="text-left">
                                <p id="active-round-name" class="text-3xl font-bold text-sky-400"></p>
                                <p class="text-sm text-slate-400 mt-1"><span id="active-round-date"></span> - <span id="active-round-time"></span></p>
                            </div>
                            <div id="active-round-prizes" class="text-center border-x border-gray-600 px-4 text-lg prize-highlight">
                                <!-- Pr√™mios ser√£o inseridos aqui -->
                            </div>
                            <div id="active-round-stats" class="text-right">
                                <p class="text-sm text-slate-400">N√∫meros Sorteados</p>
                                <p id="active-round-called-count" class="text-3xl font-bold text-white"></p>
                            </div>
                        </div>
                        <div id="active-round-description-display" class="marquee-container text-slate-300 text-base mt-3 pt-3 border-t border-gray-600 hidden text-left italic">
                            <span class="marquee-text"></span>
                        </div>
                    </div>
                    <div id="no-active-round-panel" class="text-lg font-bold text-center text-slate-400 bg-gray-700 py-4 rounded-lg mb-4 transition-all shadow-inner">
                        Selecione uma Rodada
                    </div>
                    
                    <!-- NOVO: Wrapper para aplicar o zoom (com overflow-x-auto para evitar sobreposi√ß√£o) -->
                    <div id="bingo-board-wrapper" class="w-full mx-auto overflow-x-auto">
                        <!-- AQUI AS LETRAS B-I-N-G-O/A-J-U-D-E SER√ÉO RENDERIZADAS DINAMICAMENTE -->
                        <div id="bingo-board" class="grid grid-cols-10 gap-x-2 sm:gap-x-4 min-w-max"></div>
                    </div>

                    <div class="mt-4 grid grid-cols-3 gap-2">
                         <button id="auto-draw-btn-bottom" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-xl text-sm shadow-lg transition-transform transform hover:scale-105" data-label-key="autoDrawButton">Sorteio Autom√°tico</button>
                         <button id="verify-btn-bottom" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-xl text-sm shadow-lg transition-transform transform hover:scale-105" data-label-key="verifyButton">Verificar</button>
                         <button id="clear-round-btn-bottom" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-xl text-sm shadow-lg transition-transform transform hover:scale-105" data-label-key="clearRoundButton">Limpar Rodada Atual</button>
                    </div>
                </section>
                
                <div class="grid grid-cols-1 lg:grid-cols-5 gap-6 items-center">
                    <!-- CONTROLES -->
                    <div id="controls-panel-left" class="lg:col-span-1 bg-gray-800 rounded-2xl p-4 w-full mx-auto flex flex-col">
                        <div id="clock" class="text-center text-2xl font-bold text-slate-300 mb-2"></div>
                        <h2 class="text-lg font-bold text-slate-300 mb-3 text-center" data-label-key="controlsPanelTitle">Controles</h2>
                        
                        <!-- Slider de Zoom PAINEL DE N√öMEROS -->
                        <div class="mb-3">
                            <label for="board-zoom-slider" class="block text-xs font-bold text-slate-400 mb-1" data-label-key="boardScaleLabel">Escala Painel N√∫meros (<span id="board-zoom-value">100</span>%)</label>
                            <input type="range" id="board-zoom-slider" min="50" max="150" value="100" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer range-lg">
                        </div>

                        <!-- Slider de Zoom N√öMERO ANUNCIADO -->
                        <div class="mb-3">
                            <label for="display-zoom-slider" class="block text-xs font-bold text-slate-400 mb-1" data-label-key="displayScaleLabel">Escala N√∫mero Anunciado (<span id="display-zoom-value">100</span>%)</label>
                            <input type="range" id="display-zoom-slider" min="50" max="150" value="100" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer range-lg">
                        </div>


                        <form id="manual-input-form" class="flex flex-col gap-2 mb-3">
                            <div class="flex items-center gap-1">
                                <input type="text" id="letter-input" placeholder="L" maxlength="1" class="text-center text-sm uppercase font-bold w-10 p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500">
                                <input type="number" id="number-input" placeholder="N¬∫" class="text-center text-sm font-bold flex-grow p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500" min="1" max="75">
                            </div>
                            <button type="submit" class="w-full bg-sky-600 hover:bg-sky-700 text-white font-bold p-2 rounded-lg text-sm shadow-lg" data-label-key="manualAnnounceButton">Anunciar Manual</button>
                        </form>
                        <p id="error-message" class="text-red-500 font-bold h-5 mb-1 text-xs text-center"></p>
                        <div class="grid grid-cols-1 gap-2">
                            <button id="auto-draw-btn-top" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-3 text-xs rounded-lg shadow-lg" data-label-key="autoDrawButton">Sorteio Autom√°tico</button>
                            <button id="verify-btn-top" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 text-xs rounded-lg shadow-lg" data-label-key="verifyButton">Verificar</button>
                            <button id="clear-round-btn-top" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-3 text-xs rounded-lg shadow-lg" data-label-key="clearRoundButton">Limpar Rodada Atual</button>
                        </div>
                    </div>
                    
                    <!-- N√öMERO ANUNCIADO -->
                    <div class="lg:col-span-3 bg-gray-800 rounded-2xl shadow-2xl p-6 flex flex-col justify-center items-center h-full">
                        <p id="main-display-label" class="text-xl sm:text-2xl font-bold text-slate-400 tracking-wider uppercase" data-label-key="announcedNumberLabel">N√∫mero Anunciado</p>
                        <!-- Wrapper do Zoom para o N√∫mero Anunciado -->
                        <div id="current-number-wrapper" class="my-4 flex justify-center items-center w-full">
                            <div id="current-number" class="font-black flex justify-center items-center gap-x-2 sm:gap-x-4 rounded-full w-64 h-64 sm:w-80 sm:h-80" style="font-size: clamp(6rem, 25vw, 15rem); line-height: 1; visibility: hidden;"></div>
                        </div>
                        <div class="mt-4 text-center">
                            <h3 class="text-xl font-bold text-slate-300 mb-3" data-label-key="lastNumbersLabel">√öltimos 5 N√∫meros</h3>
                            <div id="last-numbers-display" class="flex flex-wrap justify-center gap-4"></div>
                        </div>
                    </div>
                    
                    <!-- SORTEIO DE BRINDES -->
                    <div id="prize-draw-section" class="lg:col-span-1 bg-gray-800 rounded-2xl p-4 w-full mx-auto flex flex-col">
                        <h2 class="text-lg font-bold text-slate-300 mb-3 text-center" data-label-key="prizeDrawTitle">Sorteio de Brindes</h2>
                        <form id="prize-draw-form" class="flex flex-col gap-2 flex-grow">
                             <button type="button" id="check-drawn-prizes-btn" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-3 rounded-lg text-xs shadow-lg mb-1" data-label-key="checkDrawnPrizesButton">Conferir Sorteados</button>
                            <div class="flex flex-col gap-1">
                                <label for="prize-draw-min" class="text-xs text-slate-400" data-label-key="prizeDrawFromLabel">De:</label>
                                <input type="number" id="prize-draw-min" value="1" class="w-full text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg">
                                <label for="prize-draw-max" class="text-xs text-slate-400 mt-1" data-label-key="prizeDrawToLabel">At√©:</label>
                                <input type="number" id="prize-draw-max" value="500" class="w-full text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg">
                            </div>
                            <div class="flex items-center justify-center gap-2 text-xs text-slate-300">
                                <input type="checkbox" id="no-repeat-prize-draw" class="h-3 w-3 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                <label for="no-repeat-prize-draw" data-label-key="noRepeatCheckboxLabel">N√£o repetir sorteados</label>
                            </div>
                            <button type="button" id="prize-draw-random-btn" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold p-3 rounded-lg text-lg shadow-lg mt-1" data-label-key="prizeDrawRandomButton">Sortear</button>
                            <input type="text" id="prize-draw-number-manual" data-label-key="prizeDrawTicketNumberPlaceholder" placeholder="N¬∫ Cartela" class="text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 mt-2">
                            <input type="text" id="prize-draw-name" data-label-key="prizeDrawNamePlaceholder" placeholder="Nome (Opcional)" class="text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500">
                            <input type="text" id="prize-draw-description" data-label-key="prizeDrawDescriptionPlaceholder" placeholder="Brinde (Opcional)" class="text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500">
                            <button type="submit" class="w-full bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-xl text-sm shadow-lg mt-1" data-label-key="registerPrizeButton">Registrar Brinde</button>
                        </form>
                    </div>
                </div>
                 <!-- 2. LEIL√ÉO (MOVIDO PARA O PAINEL CENTRAL) -->
                <section class="bg-gray-800 p-6 rounded-2xl shadow-xl">
                    <h2 class="text-2xl font-bold text-slate-300 mb-4 text-center" data-label-key="auctionTitle">Leil√£o</h2>
                    <form id="auction-form" class="space-y-3 max-w-lg mx-auto">
                        <input type="text" id="auction-item-name" placeholder="Nome do Item" class="w-full text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500">
                        <div class="relative">
                            <div id="bid-feedback-container" class="absolute inset-0 flex justify-center items-center"></div>
                            <input type="number" id="auction-item-current-bid" placeholder="Lance Inicial (R$)" class="w-full text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500">
                            <div id="gavel-icon" class="absolute right-3 top-1/2 -translate-y-1/2 text-amber-400 hidden">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-gavel" viewBox="0 0 16 16"><path d="M8.625 0a.627.627 0 0 0-.442.183L6.938 1.432c-.084.084-.15.18-.202.283-.146.285-.233.61-.233.957v.013a.626.626 0 0 0 .131.393l.394.437-3.931 3.932a.625.625 0 0 0 0 .884l.043.043a.625.625 0 0 0 .884 0L8.53 4.101l.414.393a.625.625 0 0 0 .393.131h.013c.347 0 .672-.087.957-.233.103-.052.199-.118.283-.202l1.249-1.25a.627.627 0 0 0 .183-.442V1.25a.625.625 0 0 0-.625-.625h-2.5zm-2.43 3.362L4.35 1.517a.125.125 0 0 1 .088-.212h2.5a.125.125 0 0 1 .125.125v2.5a.125.125 0 0 1-.212.088L7.02 2.194l-2.828 2.828L5.38 3.834a.627.627 0 0 0-1.187-.22zM12.293.453l2.828 2.828-1.25 1.25-.414-.393a.625.625 0 0 0-.393-.131h-.013c-.347 0-.672-.087-.957.233-.103-.052-.199-.118-.283-.202L11 2.828l2.02-2.02a.125.125 0 0 1 .177 0l-.884.884-3.931-3.931a.625.625 0 0 0 0-.884l-.043-.043a.625.625 0 0 0-.884 0L1.313 7.02l.414.393a.625.625 0 0 0 .393.131h.013c.347 0 .672-.087.957-.233.103-.052-.199-.118-.283-.202l1.25-1.25 2.828 2.828-1.25 1.25-.414-.393a.625.625 0 0 0-.393-.131h-.013a1.625 1.625 0 0 0-.957.233c-.103.052-.199.118-.283.202L4.01 13.98l-2.122 2.12a.625.625 0 0 0 0 .884l.043.043a.625.625 0 0 0 .884 0L4.938 15l1.25-1.25.414.393a.625.625 0 0 0 .393.131h.013c.347 0 .672-.087.957-.233.103-.052-.199-.118-.283-.202L9.194 12l-2.828-2.828 1.25-1.25.414.393a.625.625 0 0 0 .393.131h.013c.347 0 .672-.087.957-.233.103-.052-.199-.118-.283-.202l1.249-1.25 2.828 2.828-1.25 1.25-.414-.393a.625.625 0 0 0-.393-.131h-.013c-.347 0-.672-.087-.957.233-.103-.052-.199-.118-.283-.202L9.844 9l2.828-2.828L15.5 8.999a.625.625 0 0 0 .884 0l.043-.043a.625.625 0 0 0 0-.884L13.599 5.24l.414-.393a.625.625 0 0 0 .131-.393v-.013a1.625 1.625 0 0 0-.233-.957c-.052-.103-.118-.199-.202-.283L12.48.983a.627.627 0 0 0-.187-.217z"/></svg>
                            </div>
                        </div>
                        <div class="flex items-center justify-center gap-2 pt-2">
                             <button type="button" id="add-50-bid" class="bg-slate-600 hover:bg-slate-700 text-white font-bold py-1 px-3 text-xs rounded-full">+ R$ 50</button>
                             <button type="button" id="add-100-bid" class="bg-slate-600 hover:bg-slate-700 text-white font-bold py-1 px-3 text-xs rounded-full">+ R$ 100</button>
                             <div class="flex items-center gap-1">
                                <input type="number" id="custom-bid-input" placeholder="Valor" class="w-20 text-center text-xs font-bold p-1 border-2 border-gray-600 bg-gray-700 rounded-lg">
                                <button type="button" id="add-custom-bid-btn" class="bg-slate-600 hover:bg-slate-700 text-white font-bold py-1 px-2 text-xs rounded-full">Adicionar</button>
                             </div>
                        </div>
                        <!-- LANCE ATUAL EM DESTAQUE -->
                        <div class="text-center mt-4">
                            <p class="text-slate-400 text-lg uppercase tracking-wider">Lance Atual</p>
                            <p id="auction-current-bid-display" class="font-black text-amber-400 text-7xl sm:text-8xl transition-all duration-200" style="text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);">R$ 0</p>
                        </div>
                        <input type="text" id="auction-winner-name" placeholder="Nome do Arrematador" class="w-full text-center text-base font-bold p-2 border-2 border-gray-600 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500">
                        <div class="flex gap-2">
                            <button type="button" id="reset-auction-btn" class="w-1/3 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-xl text-sm shadow-lg">Limpar</button>
                            <button type="submit" class="w-2/3 bg-amber-600 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded-xl text-sm shadow-lg" data-label-key="sellItemButton">Vender Item</button>
                        </div>
                    </form>
                </section>
            </div>

            <!-- BARRA LATERAL DIREITA: APOIO, RODADAS E INSCREVA-SE -->
            <aside class="lg:col-span-1 flex flex-col gap-6">
                <!-- 1. APOIE O SEMINARISTA -->
                <div class="bg-gray-800 p-6 rounded-2xl shadow-xl flex-shrink-0">
                    <h3 class="text-base font-bold text-yellow-400 mb-2 text-center" data-label-key="supportTitle">Apoie o Seminarista ü§ù</h3>
                    <p class="text-center text-xs text-slate-400 mb-3">O programa sempre ser√° GRATUITO, gostaria de ajudar de alguma forma neste projeto?</p>
                    <button id="show-donation-modal-btn" class="w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-all shadow-lg" data-label-key="supportButton">Fa√ßa sua Doa√ß√£o</button>
                </div>
                
                <!-- 3. RODADAS E PR√äMIOS (CONTE√öDO FLEX√çVEL) -->
                <div class="bg-gray-800 rounded-2xl shadow-xl p-6 flex-grow flex flex-col">
                        <h2 class="text-2xl font-bold text-slate-300 mb-4 flex-shrink-0" data-label-key="roundsAndPrizesTitle">Rodadas e Pr√™mios</h2>
                        <!-- BOT√ÉO ADICIONAR RODADA EXTRA -->
                        <button id="add-extra-game-btn" class="w-full bg-sky-700 hover:bg-sky-800 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition-all mb-4 flex-shrink-0" data-label-key="addExtraRoundButton">Adicionar Rodada Extra</button>
                        <!-- A lista de jogos continua rol√°vel, mas agora ocupa a altura do pai que est√° esticado -->
                        <div id="games-list" class="space-y-3 pr-2 flex-grow overflow-y-auto"></div>
                </div>

                <!-- 4. INSCREVA-SE NO CANAL (SEMPRE NO FINAL) -->
                <div class="bg-gray-800 p-6 rounded-2xl shadow-xl flex-shrink-0 mt-auto">
                    <h3 class="text-base font-bold text-red-500 mb-2 text-center" data-label-key="subscribeTitle">Inscreva-se no Canal</h3>
                    <a href="https://www.youtube.com/@showdepremiosbingo?sub_confirmation=1" target="_blank" id="subscribe-btn" class="block w-full text-center bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg text-sm transition-all shadow-lg" data-label-key="subscribeButton">
                        Inscrever-se no Canal
                    </a>
                </div>
            </aside>
        </main>
        
        <footer class="text-center p-4 mt-auto text-xs text-slate-500 flex-shrink-0">
            <p>
                <span id="version-text">Bingo Cloud v<span id="version">6.6.0</span></span> | 
                <span id="last-updated"></span> | 
                <a href="https://github.com/flavio-m-macedo/bingo-cloud" target="_blank" class="hover:text-sky-400">GitHub</a> |
                <a href="https://1drv.ms/b/s!AqxRfy_aD-0FgdJ2gH3tQk3Fq-7HDA?e=a3S65N" target="_blank" class="hover:text-sky-400">Trabalho de Conclus√£o de Curso</a>
            </p>
        </footer>
    </div>

    <!-- Modals (Initially Hidden, but present in the DOM for JS to find) -->
    <div id="verification-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="floating-number-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="sponsor-display-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="winner-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="custom-alert-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="congrats-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="event-break-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="menu-edit-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="winner-edit-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="delete-confirm-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="clear-round-confirm-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="proof-options-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="spinning-wheel-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="reset-confirm-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="drawn-prizes-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="donation-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="final-winners-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="changelog-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="settings-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    <div id="round-edit-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4"></div>
    
    <!-- Script principal da aplica√ß√£o -->
    <script type="module" src="./index.tsx"></script>
    
    <!-- Biblioteca de Confetti para anima√ß√µes de vit√≥ria -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
</body>
</html>
